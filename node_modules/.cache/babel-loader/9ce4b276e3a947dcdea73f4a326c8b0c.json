{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\vinee\\\\vsfiles\\\\Comfy Sloth\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\vinee\\\\vsfiles\\\\Comfy Sloth\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"C:\\\\Users\\\\vinee\\\\vsfiles\\\\Comfy Sloth\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport { LOAD_PRODUCTS, SET_LISTVIEW, SET_GRIDVIEW, UPDATE_SORT, SORT_PRODUCTS, UPDATE_FILTERS, FILTER_PRODUCTS, CLEAR_FILTERS } from '../actions';\n\nvar filter_reducer = function filter_reducer(state, action) {\n  if (action.type === LOAD_PRODUCTS) {\n    var maxPrice = action.payload.map(function (p) {\n      return p.price;\n    });\n    maxPrice = Math.max.apply(Math, _toConsumableArray(maxPrice));\n    return _objectSpread({}, state, {\n      all_products: _toConsumableArray(action.payload),\n      filtered_products: _toConsumableArray(action.payload),\n      filters: _objectSpread({}, state.filters, {\n        max_price: maxPrice,\n        price: maxPrice\n      })\n    });\n  }\n\n  if (action.type === SET_GRIDVIEW) {\n    return _objectSpread({}, state, {\n      grid_view: true\n    });\n  }\n\n  if (action.type === SET_LISTVIEW) {\n    return _objectSpread({}, state, {\n      grid_view: false\n    });\n  }\n\n  if (action.type === UPDATE_SORT) {\n    return _objectSpread({}, state, {\n      sort: action.payload\n    });\n  }\n\n  if (action.type === SORT_PRODUCTS) {\n    var sort = state.sort,\n        filtered_products = state.filtered_products;\n    var tempProducts = [];\n\n    if (sort === 'price-lowest') {\n      tempProducts = filtered_products.sort(function (a, b) {\n        // if (a.price < b.price) {\n        //   return -1\n        // }\n        // if (a.price > b.price) {\n        //   return 1\n        // }\n        // return 0\n        return a.price - b.price;\n      });\n    }\n\n    if (sort === 'price-highest') {\n      tempProducts = filtered_products.sort(function (a, b) {\n        // if (b.price < a.price) {\n        //   return -1\n        // }\n        // if (b.price > a.price) {\n        //   return 1\n        // }\n        // return 0\n        return b.price - a.price;\n      });\n    }\n\n    if (sort === 'name-a') {\n      tempProducts = filtered_products.sort(function (a, b) {\n        return a.name.localeCompare(b.name);\n      });\n    }\n\n    if (sort === 'name-z') {\n      tempProducts = filtered_products.sort(function (a, b) {\n        return b.name.localeCompare(a.name);\n      });\n    }\n\n    return _objectSpread({}, state, {\n      filtered_products: tempProducts\n    });\n  }\n\n  if (action.type === UPDATE_FILTERS) {\n    var _action$payload = action.payload,\n        name = _action$payload.name,\n        value = _action$payload.value;\n    return _objectSpread({}, state, {\n      filters: _objectSpread({}, state.filters, _defineProperty({}, name, value))\n    });\n  }\n\n  if (action.type === FILTER_PRODUCTS) {\n    var all_products = state.all_products;\n    var _state$filters = state.filters,\n        text = _state$filters.text,\n        category = _state$filters.category,\n        company = _state$filters.company,\n        color = _state$filters.color,\n        price = _state$filters.price,\n        shipping = _state$filters.shipping;\n\n    var _tempProducts = _toConsumableArray(all_products);\n\n    if (text) {\n      _tempProducts = _tempProducts.filter(function (product) {\n        return product.name.toLowerCase().startsWith(text);\n      });\n    }\n\n    if (category !== 'all') {\n      _tempProducts = _tempProducts.filter(function (product) {\n        return product.category === category;\n      });\n    }\n\n    if (company !== 'all') {\n      _tempProducts = _tempProducts.filter(function (product) {\n        return product.company === company;\n      });\n    }\n\n    if (color !== 'all') {\n      _tempProducts = _tempProducts.filter(function (product) {\n        return product.colors.find(function (c) {\n          return c === color;\n        });\n      });\n    } // filter by price\n\n\n    _tempProducts = _tempProducts.filter(function (product) {\n      return product.price <= price;\n    }); // filter by shipping\n\n    if (shipping) {\n      _tempProducts = _tempProducts.filter(function (product) {\n        return product.shipping === true;\n      });\n    }\n\n    return _objectSpread({}, state, {\n      filtered_products: _tempProducts\n    });\n  }\n\n  if (action.type === CLEAR_FILTERS) {\n    return _objectSpread({}, state, {\n      filters: _objectSpread({}, state.filters, {\n        text: '',\n        company: 'all',\n        category: 'all',\n        color: 'all',\n        price: state.filters.max_price,\n        shipping: false\n      })\n    });\n  }\n\n  throw new Error(\"No Matching \\\"\".concat(action.type, \"\\\" - action type\"));\n};\n\nexport default filter_reducer;","map":{"version":3,"names":["LOAD_PRODUCTS","SET_LISTVIEW","SET_GRIDVIEW","UPDATE_SORT","SORT_PRODUCTS","UPDATE_FILTERS","FILTER_PRODUCTS","CLEAR_FILTERS","filter_reducer","state","action","type","maxPrice","payload","map","p","price","Math","max","all_products","filtered_products","filters","max_price","grid_view","sort","tempProducts","a","b","name","localeCompare","value","text","category","company","color","shipping","filter","product","toLowerCase","startsWith","colors","find","c","Error"],"sources":["C:/Users/vinee/vsfiles/Comfy Sloth/src/reducers/filter_reducer.js"],"sourcesContent":["import {\r\n  LOAD_PRODUCTS,\r\n  SET_LISTVIEW,\r\n  SET_GRIDVIEW,\r\n  UPDATE_SORT,\r\n  SORT_PRODUCTS,\r\n  UPDATE_FILTERS,\r\n  FILTER_PRODUCTS,\r\n  CLEAR_FILTERS,\r\n} from '../actions'\r\n\r\nconst filter_reducer = (state, action) => {\r\n  if (action.type === LOAD_PRODUCTS) {\r\n    let maxPrice = action.payload.map((p) => p.price)\r\n    maxPrice = Math.max(...maxPrice)\r\n    return {\r\n      ...state,\r\n      all_products: [...action.payload],\r\n      filtered_products: [...action.payload],\r\n      filters: { ...state.filters, max_price: maxPrice, price: maxPrice },\r\n    }\r\n  }\r\n  if (action.type === SET_GRIDVIEW) {\r\n    return { ...state, grid_view: true }\r\n  }\r\n  if (action.type === SET_LISTVIEW) {\r\n    return { ...state, grid_view: false }\r\n  }\r\n  if (action.type === UPDATE_SORT) {\r\n    return { ...state, sort: action.payload }\r\n  }\r\n  if (action.type === SORT_PRODUCTS) {\r\n    const { sort, filtered_products } = state\r\n    let tempProducts = []\r\n    if (sort === 'price-lowest') {\r\n      tempProducts = filtered_products.sort((a, b) => {\r\n        // if (a.price < b.price) {\r\n        //   return -1\r\n        // }\r\n        // if (a.price > b.price) {\r\n        //   return 1\r\n        // }\r\n        // return 0\r\n        return a.price - b.price\r\n      })\r\n    }\r\n    if (sort === 'price-highest') {\r\n      tempProducts = filtered_products.sort((a, b) => {\r\n        // if (b.price < a.price) {\r\n        //   return -1\r\n        // }\r\n        // if (b.price > a.price) {\r\n        //   return 1\r\n        // }\r\n        // return 0\r\n        return b.price - a.price\r\n      })\r\n    }\r\n    if (sort === 'name-a') {\r\n      tempProducts = filtered_products.sort((a, b) => {\r\n        return a.name.localeCompare(b.name)\r\n      })\r\n    }\r\n    if (sort === 'name-z') {\r\n      tempProducts = filtered_products.sort((a, b) => {\r\n        return b.name.localeCompare(a.name)\r\n      })\r\n    }\r\n\r\n    return { ...state, filtered_products: tempProducts }\r\n  }\r\n  if (action.type === UPDATE_FILTERS) {\r\n    const { name, value } = action.payload\r\n    return { ...state, filters: { ...state.filters, [name]: value } }\r\n  }\r\n  if (action.type === FILTER_PRODUCTS) {\r\n    const { all_products } = state\r\n    const { text, category, company, color, price, shipping } = state.filters\r\n    let tempProducts = [...all_products]\r\n    if (text) {\r\n      tempProducts = tempProducts.filter((product) =>\r\n        product.name.toLowerCase().startsWith(text)\r\n      )\r\n    }\r\n    if (category !== 'all') {\r\n      tempProducts = tempProducts.filter(\r\n        (product) => product.category === category\r\n      )\r\n    }\r\n    if (company !== 'all') {\r\n      tempProducts = tempProducts.filter(\r\n        (product) => product.company === company\r\n      )\r\n    }\r\n    if (color !== 'all') {\r\n      tempProducts = tempProducts.filter((product) => {\r\n        return product.colors.find((c) => c === color)\r\n      })\r\n    }\r\n    // filter by price\r\n    tempProducts = tempProducts.filter((product) => product.price <= price)\r\n    // filter by shipping\r\n    if (shipping) {\r\n      tempProducts = tempProducts.filter((product) => product.shipping === true)\r\n    }\r\n    return { ...state, filtered_products: tempProducts }\r\n  }\r\n  if (action.type === CLEAR_FILTERS) {\r\n    return {\r\n      ...state,\r\n      filters: {\r\n        ...state.filters,\r\n        text: '',\r\n        company: 'all',\r\n        category: 'all',\r\n        color: 'all',\r\n        price: state.filters.max_price,\r\n        shipping: false,\r\n      },\r\n    }\r\n  }\r\n  throw new Error(`No Matching \"${action.type}\" - action type`)\r\n}\r\n\r\nexport default filter_reducer"],"mappings":"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"},"metadata":{},"sourceType":"module"}