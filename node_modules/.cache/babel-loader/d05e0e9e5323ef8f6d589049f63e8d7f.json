{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\vinee\\\\vsfiles\\\\Comfy Sloth\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\vinee\\\\vsfiles\\\\Comfy Sloth\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\vinee\\\\vsfiles\\\\Comfy Sloth\\\\src\\\\context\\\\cart_context.js\";\n\nimport React, { useEffect, useContext, useReducer } from 'react';\nimport reducer from '../reducers/cart_reducer';\nimport { ADD_TO_CART, REMOVE_CART_ITEM, TOGGLE_CART_ITEM_AMOUNT, CLEAR_CART, COUNT_CART_TOTALS } from '../actions';\n\nvar getLocalStorage = function getLocalStorage() {\n  var cart = localStorage.getItem('cart');\n\n  if (cart) {\n    return JSON.parse(localStorage.getItem('cart'));\n  } else {\n    return [];\n  }\n};\n\nvar initialState = {\n  cart: getLocalStorage(),\n  total_items: 0,\n  total_amount: 0,\n  shipping_fee: 534\n};\nvar CartContext = React.createContext();\nexport var CartProvider = function CartProvider(_ref) {\n  var children = _ref.children;\n\n  var _useReducer = useReducer(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1]; // add to cart\n\n\n  var addToCart = function addToCart(id, color, amount, product) {\n    dispatch({\n      type: ADD_TO_CART,\n      payload: {\n        id: id,\n        color: color,\n        amount: amount,\n        product: product\n      }\n    });\n  }; // remove item\n\n\n  var removeItem = function removeItem(id) {\n    dispatch({\n      type: REMOVE_CART_ITEM,\n      payload: id\n    });\n  }; // toggle amount\n\n\n  var toggleAmount = function toggleAmount(id, value) {\n    dispatch({\n      type: TOGGLE_CART_ITEM_AMOUNT,\n      payload: {\n        id: id,\n        value: value\n      }\n    });\n  }; // clear cart\n\n\n  var clearCart = function clearCart() {\n    dispatch({\n      type: CLEAR_CART\n    });\n  };\n\n  useEffect(function () {\n    localStorage.setItem('cart', JSON.stringify(state.cart));\n    dispatch({\n      type: COUNT_CART_TOTALS\n    });\n  }, [state.cart]);\n  return /*#__PURE__*/React.createElement(CartContext.Provider, {\n    value: _objectSpread({}, state, {\n      addToCart: addToCart,\n      removeItem: removeItem,\n      toggleAmount: toggleAmount,\n      clearCart: clearCart\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, children);\n}; // make sure use\n\nexport var useCartContext = function useCartContext() {\n  return useContext(CartContext);\n};","map":{"version":3,"names":["React","useEffect","useContext","useReducer","reducer","ADD_TO_CART","REMOVE_CART_ITEM","TOGGLE_CART_ITEM_AMOUNT","CLEAR_CART","COUNT_CART_TOTALS","getLocalStorage","cart","localStorage","getItem","JSON","parse","initialState","total_items","total_amount","shipping_fee","CartContext","createContext","CartProvider","children","state","dispatch","addToCart","id","color","amount","product","type","payload","removeItem","toggleAmount","value","clearCart","setItem","stringify","useCartContext"],"sources":["C:/Users/vinee/vsfiles/Comfy Sloth/src/context/cart_context.js"],"sourcesContent":["import React, { useEffect, useContext, useReducer } from 'react'\r\nimport reducer from '../reducers/cart_reducer'\r\nimport {\r\n  ADD_TO_CART,\r\n  REMOVE_CART_ITEM,\r\n  TOGGLE_CART_ITEM_AMOUNT,\r\n  CLEAR_CART,\r\n  COUNT_CART_TOTALS,\r\n} from '../actions'\r\n\r\nconst getLocalStorage = () => {\r\n  let cart = localStorage.getItem('cart')\r\n  if (cart) {\r\n    return JSON.parse(localStorage.getItem('cart'))\r\n  } else {\r\n    return []\r\n  }\r\n}\r\n\r\nconst initialState = {\r\n  cart: getLocalStorage(),\r\n  total_items: 0,\r\n  total_amount: 0,\r\n  shipping_fee: 534,\r\n}\r\n\r\nconst CartContext = React.createContext()\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState)\r\n  // add to cart\r\n  const addToCart = (id, color, amount, product) => {\r\n    dispatch({ type: ADD_TO_CART, payload: { id, color, amount, product } })\r\n  }\r\n  // remove item\r\n  const removeItem = (id) => {\r\n    dispatch({ type: REMOVE_CART_ITEM, payload: id })\r\n  }\r\n  // toggle amount\r\n  const toggleAmount = (id, value) => {\r\n    dispatch({\r\n      type: TOGGLE_CART_ITEM_AMOUNT,\r\n      payload: {\r\n        id,\r\n        value,\r\n      },\r\n    })\r\n  }\r\n  // clear cart\r\n  const clearCart = () => {\r\n    dispatch({ type: CLEAR_CART })\r\n  }\r\n  useEffect(() => {\r\n    localStorage.setItem('cart', JSON.stringify(state.cart))\r\n    dispatch({ type: COUNT_CART_TOTALS })\r\n  }, [state.cart])\r\n  return (\r\n    <CartContext.Provider\r\n      value={{ ...state, addToCart, removeItem, toggleAmount, clearCart }}\r\n    >\r\n      {children}\r\n    </CartContext.Provider>\r\n  )\r\n}\r\n// make sure use\r\nexport const useCartContext = () => {\r\n  return useContext(CartContext)\r\n}"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,EAAuCC,UAAvC,QAAyD,OAAzD;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,SACEC,WADF,EAEEC,gBAFF,EAGEC,uBAHF,EAIEC,UAJF,EAKEC,iBALF,QAMO,YANP;;AAQA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;EAC5B,IAAIC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX;;EACA,IAAIF,IAAJ,EAAU;IACR,OAAOG,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAP;EACD,CAFD,MAEO;IACL,OAAO,EAAP;EACD;AACF,CAPD;;AASA,IAAMG,YAAY,GAAG;EACnBL,IAAI,EAAED,eAAe,EADF;EAEnBO,WAAW,EAAE,CAFM;EAGnBC,YAAY,EAAE,CAHK;EAInBC,YAAY,EAAE;AAJK,CAArB;AAOA,IAAMC,WAAW,GAAGpB,KAAK,CAACqB,aAAN,EAApB;AAEA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,OAAkB;EAAA,IAAfC,QAAe,QAAfA,QAAe;;EAAA,kBAClBpB,UAAU,CAACC,OAAD,EAAUY,YAAV,CADQ;EAAA;EAAA,IACrCQ,KADqC;EAAA,IAC9BC,QAD8B,oBAE5C;;;EACA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,EAAD,EAAKC,KAAL,EAAYC,MAAZ,EAAoBC,OAApB,EAAgC;IAChDL,QAAQ,CAAC;MAAEM,IAAI,EAAE1B,WAAR;MAAqB2B,OAAO,EAAE;QAAEL,EAAE,EAAFA,EAAF;QAAMC,KAAK,EAALA,KAAN;QAAaC,MAAM,EAANA,MAAb;QAAqBC,OAAO,EAAPA;MAArB;IAA9B,CAAD,CAAR;EACD,CAFD,CAH4C,CAM5C;;;EACA,IAAMG,UAAU,GAAG,SAAbA,UAAa,CAACN,EAAD,EAAQ;IACzBF,QAAQ,CAAC;MAAEM,IAAI,EAAEzB,gBAAR;MAA0B0B,OAAO,EAAEL;IAAnC,CAAD,CAAR;EACD,CAFD,CAP4C,CAU5C;;;EACA,IAAMO,YAAY,GAAG,SAAfA,YAAe,CAACP,EAAD,EAAKQ,KAAL,EAAe;IAClCV,QAAQ,CAAC;MACPM,IAAI,EAAExB,uBADC;MAEPyB,OAAO,EAAE;QACPL,EAAE,EAAFA,EADO;QAEPQ,KAAK,EAALA;MAFO;IAFF,CAAD,CAAR;EAOD,CARD,CAX4C,CAoB5C;;;EACA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;IACtBX,QAAQ,CAAC;MAAEM,IAAI,EAAEvB;IAAR,CAAD,CAAR;EACD,CAFD;;EAGAP,SAAS,CAAC,YAAM;IACdW,YAAY,CAACyB,OAAb,CAAqB,MAArB,EAA6BvB,IAAI,CAACwB,SAAL,CAAed,KAAK,CAACb,IAArB,CAA7B;IACAc,QAAQ,CAAC;MAAEM,IAAI,EAAEtB;IAAR,CAAD,CAAR;EACD,CAHQ,EAGN,CAACe,KAAK,CAACb,IAAP,CAHM,CAAT;EAIA,oBACE,oBAAC,WAAD,CAAa,QAAb;IACE,KAAK,oBAAOa,KAAP;MAAcE,SAAS,EAATA,SAAd;MAAyBO,UAAU,EAAVA,UAAzB;MAAqCC,YAAY,EAAZA,YAArC;MAAmDE,SAAS,EAATA;IAAnD,EADP;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAGGb,QAHH,CADF;AAOD,CAnCM,C,CAoCP;;AACA,OAAO,IAAMgB,cAAc,GAAG,SAAjBA,cAAiB,GAAM;EAClC,OAAOrC,UAAU,CAACkB,WAAD,CAAjB;AACD,CAFM"},"metadata":{},"sourceType":"module"}