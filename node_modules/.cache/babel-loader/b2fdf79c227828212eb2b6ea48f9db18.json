{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\vinee\\\\vsfiles\\\\Comfy Sloth\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Users\\\\vinee\\\\vsfiles\\\\Comfy Sloth\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport { ADD_TO_CART, CLEAR_CART, COUNT_CART_TOTALS, REMOVE_CART_ITEM, TOGGLE_CART_ITEM_AMOUNT } from '../actions';\n\nvar cart_reducer = function cart_reducer(state, action) {\n  if (action.type === ADD_TO_CART) {\n    var _action$payload = action.payload,\n        id = _action$payload.id,\n        color = _action$payload.color,\n        amount = _action$payload.amount,\n        product = _action$payload.product;\n    var tempItem = state.cart.find(function (i) {\n      return i.id === id + color;\n    });\n\n    if (tempItem) {\n      var tempCart = state.cart.map(function (cartItem) {\n        if (cartItem.id === id + color) {\n          var newAmount = cartItem.amount + amount;\n\n          if (newAmount > cartItem.max) {\n            newAmount = cartItem.max;\n          }\n\n          return _objectSpread({}, cartItem, {\n            amount: newAmount\n          });\n        } else {\n          return cartItem;\n        }\n      });\n      return _objectSpread({}, state, {\n        cart: tempCart\n      });\n    } else {\n      var newItem = {\n        id: id + color,\n        name: product.name,\n        color: color,\n        amount: amount,\n        image: product.images[0].url,\n        price: product.price,\n        max: product.stock\n      };\n      return _objectSpread({}, state, {\n        cart: [].concat(_toConsumableArray(state.cart), [newItem])\n      });\n    }\n  }\n\n  if (action.type === REMOVE_CART_ITEM) {\n    var _tempCart = state.cart.filter(function (item) {\n      return item.id !== action.payload;\n    });\n\n    return _objectSpread({}, state, {\n      cart: _tempCart\n    });\n  }\n\n  if (action.type === TOGGLE_CART_ITEM_AMOUNT) {\n    var _action$payload2 = action.payload,\n        _id = _action$payload2.id,\n        value = _action$payload2.value;\n\n    var _tempCart2 = state.cart.map(function (item) {\n      if (item.id === _id) {\n        if (value === 'inc') {\n          var newAmount = item.amount + 1;\n\n          if (newAmount > item.max) {\n            newAmount = item.max;\n          }\n\n          return _objectSpread({}, item, {\n            amount: newAmount\n          });\n        }\n\n        if (value === 'dec') {\n          var _newAmount = item.amount - 1;\n\n          if (_newAmount < 1) {\n            _newAmount = 1;\n          }\n\n          return _objectSpread({}, item, {\n            amount: _newAmount\n          });\n        }\n      }\n\n      return item;\n    });\n\n    return _objectSpread({}, state, {\n      cart: _tempCart2\n    });\n  }\n\n  if (action.type === CLEAR_CART) {\n    return _objectSpread({}, state, {\n      cart: []\n    });\n  }\n\n  if (action.type === COUNT_CART_TOTALS) {\n    var _state$cart$reduce = state.cart.reduce(function (total, cartItem) {\n      var amount = cartItem.amount,\n          price = cartItem.price;\n      total.total_items += amount;\n      total.total_amount += price * amount;\n      return total;\n    }, {\n      total_items: 0,\n      total_amount: 0\n    }),\n        total_items = _state$cart$reduce.total_items,\n        total_amount = _state$cart$reduce.total_amount;\n\n    return _objectSpread({}, state, {\n      total_items: total_items,\n      total_amount: total_amount\n    });\n  }\n\n  throw new Error(\"No Matching \\\"\".concat(action.type, \"\\\" - action type\"));\n};\n\nexport default cart_reducer;","map":{"version":3,"names":["ADD_TO_CART","CLEAR_CART","COUNT_CART_TOTALS","REMOVE_CART_ITEM","TOGGLE_CART_ITEM_AMOUNT","cart_reducer","state","action","type","payload","id","color","amount","product","tempItem","cart","find","i","tempCart","map","cartItem","newAmount","max","newItem","name","image","images","url","price","stock","filter","item","value","reduce","total","total_items","total_amount","Error"],"sources":["C:/Users/vinee/vsfiles/Comfy Sloth/src/reducers/cart_reducer.js"],"sourcesContent":["import {\r\n  ADD_TO_CART,\r\n  CLEAR_CART,\r\n  COUNT_CART_TOTALS,\r\n  REMOVE_CART_ITEM,\r\n  TOGGLE_CART_ITEM_AMOUNT,\r\n} from '../actions'\r\n\r\nconst cart_reducer = (state, action) => {\r\n  if (action.type === ADD_TO_CART) {\r\n    const { id, color, amount, product } = action.payload\r\n    const tempItem = state.cart.find((i) => i.id === id + color)\r\n    if (tempItem) {\r\n      const tempCart = state.cart.map((cartItem) => {\r\n        if (cartItem.id === id + color) {\r\n          let newAmount = cartItem.amount + amount\r\n          if (newAmount > cartItem.max) {\r\n            newAmount = cartItem.max\r\n          }\r\n          return { ...cartItem, amount: newAmount }\r\n        } else {\r\n          return cartItem\r\n        }\r\n      })\r\n      return { ...state, cart: tempCart }\r\n    } else {\r\n      const newItem = {\r\n        id: id + color,\r\n        name: product.name,\r\n        color,\r\n        amount,\r\n        image: product.images[0].url,\r\n        price: product.price,\r\n        max: product.stock,\r\n      }\r\n      return { ...state, cart: [...state.cart, newItem] }\r\n    }\r\n  }\r\n  if (action.type === REMOVE_CART_ITEM) {\r\n    const tempCart = state.cart.filter((item) => item.id !== action.payload)\r\n    return { ...state, cart: tempCart }\r\n  }\r\n  if (action.type === TOGGLE_CART_ITEM_AMOUNT) {\r\n    const { id, value } = action.payload\r\n    const tempCart = state.cart.map((item) => {\r\n      if (item.id === id) {\r\n        if (value === 'inc') {\r\n          let newAmount = item.amount + 1\r\n          if (newAmount > item.max) {\r\n            newAmount = item.max\r\n          }\r\n          return { ...item, amount: newAmount }\r\n        }\r\n        if (value === 'dec') {\r\n          let newAmount = item.amount - 1\r\n          if (newAmount < 1) {\r\n            newAmount = 1\r\n          }\r\n          return { ...item, amount: newAmount }\r\n        }\r\n      }\r\n      return item\r\n    })\r\n    return { ...state, cart: tempCart }\r\n  }\r\n  if (action.type === CLEAR_CART) {\r\n    return { ...state, cart: [] }\r\n  }\r\n  if (action.type === COUNT_CART_TOTALS) {\r\n    const { total_items, total_amount } = state.cart.reduce(\r\n      (total, cartItem) => {\r\n        const { amount, price } = cartItem\r\n        total.total_items += amount\r\n        total.total_amount += price * amount\r\n        return total\r\n      },\r\n      { total_items: 0, total_amount: 0 }\r\n    )\r\n    return { ...state, total_items, total_amount }\r\n  }\r\n  throw new Error(`No Matching \"${action.type}\" - action type`)\r\n}\r\n\r\nexport default cart_reducer"],"mappings":"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"},"metadata":{},"sourceType":"module"}